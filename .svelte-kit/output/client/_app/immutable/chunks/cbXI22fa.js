import{S as T,H as J,I as Q,J as R,K as W,L as h,U as b,M as D,g as P,F as j,N as X,O as k,P as p,i as ee,Q as M,j as U,R as Y,m as F,G as re,E as ne,V as te,W as ae,D as ie,X as H,o as fe,n as q,b as B,Y as se,Z as z,_ as ue,$ as le,a0 as _e,a1 as de,a2 as ve,a3 as ce,a4 as K,a5 as oe,l as be,a6 as ge,a7 as ye,f as Z,a8 as he,a9 as Pe}from"./Krh8yu2i.js";function m(e,a=null,d){if(typeof e!="object"||e===null||T in e)return e;const u=k(e);if(u!==J&&u!==Q)return e;var f=new Map,l=p(e),o=R(0);l&&f.set("length",R(e.length));var c;return new Proxy(e,{defineProperty(i,r,n){(!("value"in n)||n.configurable===!1||n.enumerable===!1||n.writable===!1)&&W();var t=f.get(r);return t===void 0?(t=R(n.value),f.set(r,t)):h(t,m(n.value,c)),!0},deleteProperty(i,r){var n=f.get(r);if(n===void 0)r in i&&f.set(r,R(b));else{if(l&&typeof r=="string"){var t=f.get("length"),s=Number(r);Number.isInteger(s)&&s<t.v&&h(t,s)}h(n,b),$(o)}return!0},get(i,r,n){var g;if(r===T)return e;var t=f.get(r),s=r in i;if(t===void 0&&(!s||(g=D(i,r))!=null&&g.writable)&&(t=R(m(s?i[r]:b,c)),f.set(r,t)),t!==void 0){var _=P(t);return _===b?void 0:_}return Reflect.get(i,r,n)},getOwnPropertyDescriptor(i,r){var n=Reflect.getOwnPropertyDescriptor(i,r);if(n&&"value"in n){var t=f.get(r);t&&(n.value=P(t))}else if(n===void 0){var s=f.get(r),_=s==null?void 0:s.v;if(s!==void 0&&_!==b)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return n},has(i,r){var _;if(r===T)return!0;var n=f.get(r),t=n!==void 0&&n.v!==b||Reflect.has(i,r);if(n!==void 0||j!==null&&(!t||(_=D(i,r))!=null&&_.writable)){n===void 0&&(n=R(t?m(i[r],c):b),f.set(r,n));var s=P(n);if(s===b)return!1}return t},set(i,r,n,t){var S;var s=f.get(r),_=r in i;if(l&&r==="length")for(var g=n;g<s.v;g+=1){var y=f.get(g+"");y!==void 0?h(y,b):g in i&&(y=R(b),f.set(g+"",y))}s===void 0?(!_||(S=D(i,r))!=null&&S.writable)&&(s=R(void 0),h(s,m(n,c)),f.set(r,s)):(_=s.v!==b,h(s,m(n,c)));var E=Reflect.getOwnPropertyDescriptor(i,r);if(E!=null&&E.set&&E.set.call(t,n),!_){if(l&&typeof r=="string"){var N=f.get("length"),I=Number(r);Number.isInteger(I)&&I>=N.v&&h(N,I+1)}$(o)}return!0},ownKeys(i){P(o);var r=Reflect.ownKeys(i).filter(s=>{var _=f.get(s);return _===void 0||_.v!==b});for(var[n,t]of f)t.v!==b&&!(n in i)&&r.push(n);return r},setPrototypeOf(){X()}})}function $(e,a=1){h(e,e.v+a)}function G(e){return e!==null&&typeof e=="object"&&T in e?e[T]:e}function we(e,a){return Object.is(G(e),G(a))}function me(e,a,d,u=null,f=!1){F&&re();var l=e,o=null,c=null,i=null,r=f?ne:0;ee(()=>{if(i===(i=!!a()))return;let n=!1;if(F){const t=l.data===te;i===t&&(l=ae(),ie(l),H(!1),n=!0)}i?(o?M(o):o=U(()=>d(l)),c&&Y(c,()=>{c=null})):(c?M(c):u&&(c=U(()=>u(l))),o&&Y(o,()=>{o=null})),n&&H(!0)},r),F&&(l=fe)}function Re(e,a,d){if(e==null)return a(void 0),q;const u=B(()=>e.subscribe(a,d));return u.unsubscribe?()=>u.unsubscribe():u}let A=!1;function Se(e,a,d){const u=d[a]??(d[a]={store:null,source:z(void 0),unsubscribe:q});if(u.store!==e)if(u.unsubscribe(),u.store=e??null,e==null)u.source.v=void 0,u.unsubscribe=q;else{var f=!0;u.unsubscribe=Re(e,l=>{f?u.source.v=l:h(u.source,l)}),f=!1}return P(u.source)}function Oe(e,a){return e.set(a),a}function Te(){const e={};return se(()=>{for(var a in e)e[a].unsubscribe()}),e}function Ee(e){var a=A;try{return A=!1,[e(),A]}finally{A=a}}function V(e){for(var a=j,d=j;a!==null&&!(a.f&(ve|ce));)a=a.parent;try{return K(a),e()}finally{K(d)}}function Ne(e,a,d,u){var C;var f=(d&oe)!==0,l=!be||(d&ge)!==0,o=(d&ye)!==0,c=(d&Pe)!==0,i=!1,r;o?[r,i]=Ee(()=>e[a]):r=e[a];var n=(C=D(e,a))==null?void 0:C.set,t=u,s=!0,_=!1,g=()=>(_=!0,s&&(s=!1,c?t=B(u):t=u),t);r===void 0&&u!==void 0&&(n&&l&&ue(),r=g(),n&&n(r));var y;if(l)y=()=>{var v=e[a];return v===void 0?g():(s=!0,_=!1,v)};else{var E=V(()=>(f?Z:he)(()=>e[a]));E.f|=le,y=()=>{var v=P(E);return v!==void 0&&(t=void 0),v===void 0?t:v}}if(!(d&_e))return y;if(n){var N=e.$$legacy;return function(v,w){return arguments.length>0?((!l||!w||N||i)&&n(w?y():v),v):y()}}var I=!1,S=!1,x=z(r),O=V(()=>Z(()=>{var v=y(),w=P(x);return I?(I=!1,S=!0,w):(S=!1,x.v=v)}));return f||(O.equals=de),function(v,w){if(arguments.length>0){const L=w?P(O):l&&o?m(v):v;return O.equals(L)||(I=!0,h(x,L),_&&t!==void 0&&(t=L),B(()=>P(O))),v}return P(O)}}export{m as a,we as b,Oe as c,Se as d,me as i,Ne as p,Te as s};
